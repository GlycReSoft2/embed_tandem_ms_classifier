<!DOCTYPE html>
<!-- Generated by Cython 0.20.1 on Thu Sep 25 21:11:47 2014 -->
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">

body { font-family: courier; font-size: 12; }

.code  { font-size: 9; color: #444444; display: none; margin-left: 20px; }
.py_c_api  { color: red; }
.py_macro_api  { color: #FF7000; }
.pyx_c_api  { color: #FF3000; }
.pyx_macro_api  { color: #FF7000; }
.refnanny  { color: #FFA000; }

.error_goto  { color: #FFA000; }

.tag  {  }

.coerce  { color: #008000; border: 1px dotted #008000 }

.py_attr { color: #FF0000; font-weight: bold; }
.c_attr  { color: #0000FF; }

.py_call { color: #FF0000; font-weight: bold; }
.c_call  { color: #0000FF; }

.line { margin: 0em }

</style>
<script>
function toggleDiv(id) {
    theDiv = document.getElementById(id);
    if (theDiv.style.display != 'block') theDiv.style.display = 'block';
    else theDiv.style.display = 'none';
}
</script>
</head>
        <body>
<p>Generated by Cython 0.20.1 on Thu Sep 25 21:11:47 2014
<p>Raw output: <a href="tokenizers.c">tokenizers.c</a>
<pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line1")'> 1: from libc.string import strlen</pre>
<pre id='line1' class='code' style='background-color: #FFFF57'>  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_n_s_strlen);
  <span class='py_macro_api'>PyList_SET_ITEM</span>(__pyx_t_1, 0, __pyx_n_s_strlen);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_n_s_strlen);
  __pyx_t_2 = <span class='pyx_c_api'>__Pyx_Import</span>(__pyx_n_s_libc_string, __pyx_t_1, -1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_ImportFrom</span>(__pyx_t_2, __pyx_n_s_strlen);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  if (<span class='py_c_api'>PyDict_SetItem</span>(__pyx_d, __pyx_n_s_strlen, __pyx_t_1) &lt; 0) <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line2")'> 2: </pre>
<pre id='line2' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line3")'> 3: cdef int AA_STATE = 0</pre>
<pre id='line3' class='code' style='background-color: #FFFFff'>  __pyx_v_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_AA_STATE = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line4")'> 4: cdef int MOD_STATE = 0</pre>
<pre id='line4' class='code' style='background-color: #FFFFff'>  __pyx_v_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_MOD_STATE = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line5")'> 5: </pre>
<pre id='line5' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line6")'> 6: cdef list sequence_tokenizer(str sequence):</pre>
<pre id='line6' class='code' style='background-color: #FFFF7f'>static PyObject *__pyx_f_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_sequence_tokenizer(PyObject *__pyx_v_sequence) {
  int __pyx_v_state;
  PyObject *__pyx_v_chunks = 0;
  PyObject *__pyx_v_current_aa = 0;
  PyObject *__pyx_v_current_mod = 0;
  int __pyx_v_paren_level;
  int __pyx_v_i;
  int __pyx_v_length;
  PyObject *__pyx_v_next_char = 0;
  PyObject *__pyx_v_new_chunk = NULL;
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='refnanny'>__Pyx_RefNannySetupContext</span>("sequence_tokenizer", 0);
/* â€¦ */
  /* function exit code */
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("glycresoft_ms2_classification.structure.utils.tokenizers.sequence_tokenizer", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_chunks);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_current_aa);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_current_mod);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_next_char);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_v_new_chunk);
  <span class='refnanny'>__Pyx_XGIVEREF</span>(__pyx_r);
  <span class='refnanny'>__Pyx_RefNannyFinishContext</span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line7")'> 7:     cdef int state</pre>
<pre id='line7' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line8")'> 8:     state = AA_STATE</pre>
<pre id='line8' class='code' style='background-color: #FFFFff'>  __pyx_v_state = __pyx_v_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_AA_STATE;
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line9")'> 9:     cdef list chunks = []</pre>
<pre id='line9' class='code' style='background-color: #FFFFaa'>  __pyx_t_1 = <span class='py_c_api'>PyList_New</span>(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 9; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_v_chunks = ((PyObject*)__pyx_t_1);
  __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line10")'> 10:     cdef str current_aa = ""</pre>
<pre id='line10' class='code' style='background-color: #FFFFe7'>  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_s_);
  __pyx_v_current_aa = __pyx_kp_s_;
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line11")'> 11:     cdef str current_mod = ""</pre>
<pre id='line11' class='code' style='background-color: #FFFFe7'>  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_s_);
  __pyx_v_current_mod = __pyx_kp_s_;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line12")'> 12:     cdef int paren_level = 0</pre>
<pre id='line12' class='code' style='background-color: #FFFFff'>  __pyx_v_paren_level = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line13")'> 13:     cdef int i = 0</pre>
<pre id='line13' class='code' style='background-color: #FFFFff'>  __pyx_v_i = 0;
</pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line14")'> 14:     cdef int length = strlen(sequence)</pre>
<pre id='line14' class='code' style='background-color: #FFFF62'>  __pyx_t_1 = <span class='pyx_c_api'>__Pyx_GetModuleGlobalName</span>(__pyx_n_s_strlen);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_sequence);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_v_sequence);
  <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_sequence);
  __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_t_1, __pyx_t_2, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_1); __pyx_t_1 = 0;
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = <span class='pyx_c_api'>__Pyx_PyInt_As_int</span>(__pyx_t_3);<span class='error_goto'> if (unlikely((__pyx_t_4 == (int)-1) &amp;&amp; PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 14; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_v_length = __pyx_t_4;
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line15")'> 15:     cdef str next_char = None</pre>
<pre id='line15' class='code' style='background-color: #FFFFe7'>  <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  __pyx_v_next_char = ((PyObject*)Py_None);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line16")'> 16:     while i &lt; length:</pre>
<pre id='line16' class='code' style='background-color: #FFFFff'>  while (1) {
    __pyx_t_5 = ((__pyx_v_i &lt; __pyx_v_length) != 0);
    if (!__pyx_t_5) break;
</pre><pre class='line' style='background-color: #FFFF6e' onclick='toggleDiv("line17")'> 17:         next_char = sequence[i]</pre>
<pre id='line17' class='code' style='background-color: #FFFF6e'>    __pyx_t_3 = <span class='pyx_c_api'>__Pyx_GetItemInt</span>(__pyx_v_sequence, __pyx_v_i, int, 1, __Pyx_PyInt_From_int, 0, 1, 1);<span class='error_goto'> if (unlikely(__pyx_t_3 == NULL)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>;
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    if (!(likely(<span class='py_c_api'>PyString_CheckExact</span>(__pyx_t_3))||((__pyx_t_3) == Py_None)||(<span class='py_c_api'>PyErr_Format</span>(PyExc_TypeError, "Expected %.16s, got %.200s", "str", Py_TYPE(__pyx_t_3)-&gt;tp_name), 0))) <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 17; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_next_char, ((PyObject*)__pyx_t_3));
    __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line18")'> 18:         if next_char is "(":</pre>
<pre id='line18' class='code' style='background-color: #FFFFff'>    __pyx_t_5 = (__pyx_v_next_char == __pyx_kp_s__2);
    __pyx_t_6 = (__pyx_t_5 != 0);
    if (__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line19")'> 19:             if state == AA_STATE:</pre>
<pre id='line19' class='code' style='background-color: #FFFFff'>      __pyx_t_6 = ((__pyx_v_state == __pyx_v_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_AA_STATE) != 0);
      if (__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line20")'> 20:                 state = MOD_STATE</pre>
<pre id='line20' class='code' style='background-color: #FFFFff'>        __pyx_v_state = __pyx_v_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_MOD_STATE;
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line21")'> 21:                 assert paren_level == 0</pre>
<pre id='line21' class='code' style='background-color: #FFFFaa'>        #ifndef CYTHON_WITHOUT_ASSERTIONS
        if (unlikely(!Py_OptimizeFlag)) {
          if (unlikely(!((__pyx_v_paren_level == 0) != 0))) {
            <span class='py_c_api'>PyErr_SetNone</span>(PyExc_AssertionError);
            <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 21; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          }
        }
        #endif
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line22")'> 22:                 paren_level += 1</pre>
<pre id='line22' class='code' style='background-color: #FFFFff'>        __pyx_v_paren_level = (__pyx_v_paren_level + 1);
        goto __pyx_L6;
      }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line23")'> 23:             elif state == MOD_STATE:</pre>
<pre id='line23' class='code' style='background-color: #FFFFff'>      __pyx_t_6 = ((__pyx_v_state == __pyx_v_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_MOD_STATE) != 0);
      if (__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line24")'> 24:                 paren_level += 1</pre>
<pre id='line24' class='code' style='background-color: #FFFFff'>        __pyx_v_paren_level = (__pyx_v_paren_level + 1);
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line25")'> 25:                 current_mod += next_char</pre>
<pre id='line25' class='code' style='background-color: #FFFF9f'>        __pyx_t_3 = <span class='py_c_api'>PyNumber_InPlaceAdd</span>(__pyx_v_current_mod, __pyx_v_next_char);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 25; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_current_mod, ((PyObject*)__pyx_t_3));
        __pyx_t_3 = 0;
        goto __pyx_L6;
      }
      __pyx_L6:;
      goto __pyx_L5;
    }
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line26")'> 26:         elif next_char == ")":</pre>
<pre id='line26' class='code' style='background-color: #FFFFd4'>    __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyString_Equals</span>(__pyx_v_next_char, __pyx_kp_s__3, Py_EQ));<span class='error_goto'> if (unlikely(__pyx_t_6 &lt; 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    __pyx_t_5 = (__pyx_t_6 != 0);
    if (__pyx_t_5) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line27")'> 27:             if state == AA_STATE:</pre>
<pre id='line27' class='code' style='background-color: #FFFFff'>      __pyx_t_5 = ((__pyx_v_state == __pyx_v_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_AA_STATE) != 0);
      if (__pyx_t_5) {
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line28")'> 28:                 raise Exception("Invalid Sequence. ) found outside of modification.")</pre>
<pre id='line28' class='code' style='background-color: #FFFFaa'>        __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_Exception, __pyx_tuple__4, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 28; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
        <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
        <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 28; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line29")'> 29:             elif state == MOD_STATE:</pre>
<pre id='line29' class='code' style='background-color: #FFFFff'>      __pyx_t_5 = ((__pyx_v_state == __pyx_v_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_MOD_STATE) != 0);
      if (__pyx_t_5) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line30")'> 30:                 paren_level -= 1</pre>
<pre id='line30' class='code' style='background-color: #FFFFff'>        __pyx_v_paren_level = (__pyx_v_paren_level - 1);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line31")'> 31:                 if paren_level == 0:</pre>
<pre id='line31' class='code' style='background-color: #FFFFff'>        __pyx_t_5 = ((__pyx_v_paren_level == 0) != 0);
        if (__pyx_t_5) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line32")'> 32:                     state = AA_STATE</pre>
<pre id='line32' class='code' style='background-color: #FFFFff'>          __pyx_v_state = __pyx_v_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_AA_STATE;
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line33")'> 33:                     new_chunk = (current_aa, current_mod)</pre>
<pre id='line33' class='code' style='background-color: #FFFF7f'>          __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 33; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_current_aa);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_current_aa);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_current_aa);
          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_current_mod);
          <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_current_mod);
          <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_current_mod);
          <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_new_chunk, ((PyObject*)__pyx_t_3));
          __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line34")'> 34:                     chunks.append(new_chunk)</pre>
<pre id='line34' class='code' style='background-color: #FFFFd4'>          __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_chunks, __pyx_v_new_chunk);<span class='error_goto'> if (unlikely(__pyx_t_7 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 34; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line35")'> 35:                     current_mod = ""</pre>
<pre id='line35' class='code' style='background-color: #FFFFd4'>          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_s_);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_current_mod, __pyx_kp_s_);
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line36")'> 36:                     current_aa = ""</pre>
<pre id='line36' class='code' style='background-color: #FFFFd4'>          <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_s_);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_current_aa, __pyx_kp_s_);
          goto __pyx_L8;
        }
        /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line37")'> 37:                 else:</pre>
<pre id='line37' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line38")'> 38:                     current_mod += next_char</pre>
<pre id='line38' class='code' style='background-color: #FFFF9f'>          __pyx_t_3 = <span class='py_c_api'>PyNumber_InPlaceAdd</span>(__pyx_v_current_mod, __pyx_v_next_char);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 38; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
          <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
          <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_current_mod, ((PyObject*)__pyx_t_3));
          __pyx_t_3 = 0;
        }
        __pyx_L8:;
        goto __pyx_L7;
      }
      __pyx_L7:;
      goto __pyx_L5;
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line39")'> 39:         elif state == AA_STATE:</pre>
<pre id='line39' class='code' style='background-color: #FFFFff'>    __pyx_t_5 = ((__pyx_v_state == __pyx_v_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_AA_STATE) != 0);
    if (__pyx_t_5) {
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line40")'> 40:             if(current_aa != ""):</pre>
<pre id='line40' class='code' style='background-color: #FFFFd4'>      __pyx_t_5 = (<span class='pyx_c_api'>__Pyx_PyString_Equals</span>(__pyx_v_current_aa, __pyx_kp_s_, Py_NE));<span class='error_goto'> if (unlikely(__pyx_t_5 &lt; 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 40; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      __pyx_t_6 = (__pyx_t_5 != 0);
      if (__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line41")'> 41:                 new_chunk = (current_aa, current_mod)</pre>
<pre id='line41' class='code' style='background-color: #FFFF7f'>        __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 41; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
        <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_current_aa);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_current_aa);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_current_aa);
        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_current_mod);
        <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_v_current_mod);
        <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_current_mod);
        <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_new_chunk, ((PyObject*)__pyx_t_3));
        __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line42")'> 42:                 chunks.append(new_chunk)</pre>
<pre id='line42' class='code' style='background-color: #FFFFd4'>        __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_chunks, __pyx_v_new_chunk);<span class='error_goto'> if (unlikely(__pyx_t_7 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 42; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line43")'> 43:                 current_mod = ""</pre>
<pre id='line43' class='code' style='background-color: #FFFFd4'>        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_s_);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_current_mod, __pyx_kp_s_);
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line44")'> 44:                 current_aa = ""</pre>
<pre id='line44' class='code' style='background-color: #FFFFd4'>        <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_s_);
        <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_current_aa, __pyx_kp_s_);
        goto __pyx_L9;
      }
      __pyx_L9:;
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line45")'> 45:             current_aa += next_char</pre>
<pre id='line45' class='code' style='background-color: #FFFF9f'>      __pyx_t_3 = <span class='py_c_api'>PyNumber_InPlaceAdd</span>(__pyx_v_current_aa, __pyx_v_next_char);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 45; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_current_aa, ((PyObject*)__pyx_t_3));
      __pyx_t_3 = 0;
      goto __pyx_L5;
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line46")'> 46:         elif state == MOD_STATE:</pre>
<pre id='line46' class='code' style='background-color: #FFFFff'>    __pyx_t_6 = ((__pyx_v_state == __pyx_v_29glycresoft_ms2_classification_9structure_5utils_10tokenizers_MOD_STATE) != 0);
    if (__pyx_t_6) {
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line47")'> 47:             current_mod += next_char</pre>
<pre id='line47' class='code' style='background-color: #FFFF9f'>      __pyx_t_3 = <span class='py_c_api'>PyNumber_InPlaceAdd</span>(__pyx_v_current_mod, __pyx_v_next_char);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 47; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF_SET</span>(__pyx_v_current_mod, ((PyObject*)__pyx_t_3));
      __pyx_t_3 = 0;
      goto __pyx_L5;
    }
    /*else*/ {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line48")'> 48:         else:</pre>
<pre id='line48' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF4f' onclick='toggleDiv("line49")'> 49:             raise Exception("Unknown Tokenizer State", current_aa, current_mod, i, next_char)</pre>
<pre id='line49' class='code' style='background-color: #FFFF4f'>      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyInt_From_int</span>(__pyx_v_i);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(5);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_2);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_s_Unknown_Tokenizer_State);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_kp_s_Unknown_Tokenizer_State);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_s_Unknown_Tokenizer_State);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_current_aa);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 1, __pyx_v_current_aa);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_current_aa);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_current_mod);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 2, __pyx_v_current_mod);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_current_mod);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 3, __pyx_t_3);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_next_char);
      <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 4, __pyx_v_next_char);
      <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_next_char);
      __pyx_t_3 = 0;
      __pyx_t_3 = <span class='pyx_c_api'>__Pyx_PyObject_Call</span>(__pyx_builtin_Exception, __pyx_t_2, NULL);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
      <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
      <span class='pyx_c_api'>__Pyx_Raise</span>(__pyx_t_3, 0, 0, 0);
      <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_3); __pyx_t_3 = 0;
      <span class='error_goto'>{__pyx_filename = __pyx_f[0]; __pyx_lineno = 49; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    }
    __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line50")'> 50:         i += 1</pre>
<pre id='line50' class='code' style='background-color: #FFFFff'>    __pyx_v_i = (__pyx_v_i + 1);
  }
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line51")'> 51:     if current_aa != "":</pre>
<pre id='line51' class='code' style='background-color: #FFFFd4'>  __pyx_t_6 = (<span class='pyx_c_api'>__Pyx_PyString_Equals</span>(__pyx_v_current_aa, __pyx_kp_s_, Py_NE));<span class='error_goto'> if (unlikely(__pyx_t_6 &lt; 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 51; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  __pyx_t_5 = (__pyx_t_6 != 0);
  if (__pyx_t_5) {
</pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line52")'> 52:         new_chunk = (current_aa, "")</pre>
<pre id='line52' class='code' style='background-color: #FFFF7f'>    __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 52; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='refnanny'>__Pyx_GOTREF</span>(__pyx_t_3);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_current_aa);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_v_current_aa);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_v_current_aa);
    <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_kp_s_);
    <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_kp_s_);
    <span class='refnanny'>__Pyx_GIVEREF</span>(__pyx_kp_s_);
    <span class='pyx_macro_api'>__Pyx_XDECREF_SET</span>(__pyx_v_new_chunk, ((PyObject*)__pyx_t_3));
    __pyx_t_3 = 0;
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line53")'> 53:         chunks.append(new_chunk)</pre>
<pre id='line53' class='code' style='background-color: #FFFFd4'>    __pyx_t_7 = <span class='pyx_c_api'>__Pyx_PyList_Append</span>(__pyx_v_chunks, __pyx_v_new_chunk);<span class='error_goto'> if (unlikely(__pyx_t_7 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    goto __pyx_L10;
  }
  __pyx_L10:;
</pre><pre class='line' style='background-color: #FFFFd4' onclick='toggleDiv("line54")'> 54:     return chunks</pre>
<pre id='line54' class='code' style='background-color: #FFFFd4'>  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  <span class='pyx_macro_api'>__Pyx_INCREF</span>(__pyx_v_chunks);
  __pyx_r = __pyx_v_chunks;
  goto __pyx_L0;
</pre></body></html>
